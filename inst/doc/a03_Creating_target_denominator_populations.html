<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Creating target denominator populations</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Creating target denominator
populations</h1>



<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(IncidencePrevalence)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(CDMConnector)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(IncidencePrevalence)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<div id="using-generatedenominatorcohortset-with-a-target-cohort" class="section level1">
<h1>Using generateDenominatorCohortSet() with a target cohort</h1>
<p>As seen in the previous vignette,
<code>generateDenominatorCohortSet()</code> can be used to generate
denominator populations based on all individuals in the database with
individuals included once they satisfy criteria. However, in some case
we might want to define a denominator population within a specific
population of interest, for example people diagnosed with a condition of
interest. The function <code>generateTargetDenominatorCohortSet()</code>
provides functionality for this.</p>
<p>To provide an example its use, let´s generate 5 example patients.</p>
<p>Here we generate a simulated target cohort table with 5 individuals
and 2 different target cohorts to illustrate the following examples.
Note, some of the individuals in the database are in an acute asthma
cohort.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>personTable <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="at">person_id =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;4&quot;</span>, <span class="st">&quot;5&quot;</span>),</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="at">gender_concept_id =</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;8507&quot;</span>, <span class="dv">2</span>), <span class="fu">rep</span>(<span class="st">&quot;8532&quot;</span>, <span class="dv">3</span>)),</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  <span class="at">year_of_birth =</span> <span class="dv">2000</span>,</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>  <span class="at">month_of_birth =</span> <span class="dv">06</span>,</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>  <span class="at">day_of_birth =</span> <span class="dv">01</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>)</span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>observationPeriodTable <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a>  <span class="at">observation_period_id =</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>  <span class="at">person_id =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;4&quot;</span>, <span class="st">&quot;5&quot;</span>),</span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>  <span class="at">observation_period_start_date =</span> <span class="fu">c</span>(</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2010-12-19&quot;</span>),</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2005-04-01&quot;</span>),</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2009-04-10&quot;</span>),</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2010-08-20&quot;</span>),</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2010-01-01&quot;</span>)</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>  ),</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>  <span class="at">observation_period_end_date =</span> <span class="fu">c</span>(</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2011-06-19&quot;</span>),</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2005-11-29&quot;</span>),</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2016-01-02&quot;</span>),</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2011-12-11&quot;</span>),</span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2015-06-01&quot;</span>)</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>  )</span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>)</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>acute_asthma <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>  <span class="at">cohort_definition_id =</span> <span class="fu">rep</span>(<span class="st">&quot;1&quot;</span>, <span class="dv">5</span>),</span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>  <span class="at">subject_id =</span> <span class="fu">c</span>(<span class="st">&quot;3&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;5&quot;</span>, <span class="st">&quot;5&quot;</span>, <span class="st">&quot;2&quot;</span>),</span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>  <span class="at">cohort_start_date =</span> <span class="fu">c</span>(</span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2011-01-01&quot;</span>),</span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2015-06-01&quot;</span>),</span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2014-10-01&quot;</span>),</span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2010-06-01&quot;</span>),</span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2005-08-20&quot;</span>)</span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>  ),</span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>  <span class="at">cohort_end_date =</span> <span class="fu">c</span>(</span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2013-01-01&quot;</span>),</span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2015-12-31&quot;</span>),</span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2015-04-01&quot;</span>),</span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2010-06-01&quot;</span>),</span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>    <span class="fu">as.Date</span>(<span class="st">&quot;2005-09-20&quot;</span>)</span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>  )</span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a>)</span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a><span class="co"># mock database</span></span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">mockIncidencePrevalence</span>(</span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a>  <span class="at">personTable =</span> personTable,</span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a>  <span class="at">observationPeriodTable =</span> observationPeriodTable,</span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> acute_asthma</span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a>)</span></code></pre></div>
<p>As we´ve already seen, we can get a denominator population without
including any particular subset like so</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateDenominatorCohortSet</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator&quot;</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>)</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>cdm<span class="sc">$</span>denominator</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="co">#&gt; # Source:   table&lt;denominator&gt; [?? x 4]</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a><span class="co">#&gt; # Database: DuckDB v1.3.2-dev13 [eburn@Windows 10 x64:R 4.2.1/:memory:]</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">#&gt;   cohort_definition_id subject_id cohort_start_date cohort_end_date</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">#&gt;                  &lt;int&gt; &lt;chr&gt;      &lt;date&gt;            &lt;date&gt;         </span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a><span class="co">#&gt; 1                    1 1          2010-12-19        2011-06-19     </span></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co">#&gt; 2                    1 2          2005-04-01        2005-11-29     </span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a><span class="co">#&gt; 3                    1 3          2009-04-10        2016-01-02     </span></span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="co">#&gt; 4                    1 4          2010-08-20        2011-12-11     </span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a><span class="co">#&gt; 5                    1 5          2010-01-01        2015-06-01</span></span></code></pre></div>
<p>As we did not specify any study start and end date, the cohort start
and end date of our 5 patients correspond to the same registered as
observation period.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>cdm<span class="sc">$</span>denominator <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="fu">filter</span>(subject_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;4&quot;</span>, <span class="st">&quot;5&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>But if we use <code>generateTargetDenominatorCohortSet()</code> to
create a denominator cohort among the individuals in the acute asthma
cohort.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateTargetDenominatorCohortSet</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator_acute_asthma&quot;</span>,</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> <span class="st">&quot;target&quot;</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>)</span></code></pre></div>
<p>We can see that persons “3” and “5” experienced this condition in two
different occasions and contribute time to the denominator population
twice, while person “2” contributes one period of time at risk.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>cdm<span class="sc">$</span>denominator_acute_asthma <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> row)) <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<div id="applying-cohort-restrictions" class="section level2">
<h2>Applying cohort restrictions</h2>
<p>We can use PatientProfiles to see demographics at time of entry to
the target cohort.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>cdm<span class="sc">$</span>target <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  PatientProfiles<span class="sc">::</span><span class="fu">addDemographics</span>(<span class="at">indexDate =</span> <span class="st">&quot;cohort_start_date&quot;</span>)</span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">#&gt; # Source:   table&lt;og_001_1753211695&gt; [?? x 8]</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt; # Database: DuckDB v1.3.2-dev13 [eburn@Windows 10 x64:R 4.2.1/:memory:]</span></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">#&gt;   cohort_definition_id subject_id cohort_start_date cohort_end_date   age sex   </span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">#&gt;                  &lt;int&gt; &lt;chr&gt;      &lt;date&gt;            &lt;date&gt;          &lt;int&gt; &lt;chr&gt; </span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a><span class="co">#&gt; 1                    1 2          2005-08-20        2005-09-20          5 Male  </span></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">#&gt; 2                    1 3          2015-06-01        2015-12-31         15 Female</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">#&gt; 3                    1 5          2010-06-01        2010-06-01         10 Female</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">#&gt; 4                    1 3          2011-01-01        2013-01-01         10 Female</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a><span class="co">#&gt; 5                    1 5          2014-10-01        2015-04-01         14 Female</span></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a><span class="co">#&gt; # ℹ 2 more variables: prior_observation &lt;int&gt;, future_observation &lt;int&gt;</span></span></code></pre></div>
<p>Restrictions based on age, sex, and prior observation, and calendar
dates can again be applied like with
<code>generateDenominatorCohortSet()</code>. However, now we have
additional considerations on how these restrictions are implemented. In
particular, whether requirements must be fulfilled on the date of target
cohort entry or whether we allow people to contribute time once they
satisfy time-varying criteria.</p>
<p>This choice is implemented using the <code>requirementsAtEntry</code>
argument. When this is set to TRUE individuals must satisfy the age and
prior observation requirements on their target cohort entry date. In the
case below we can see that persons “3” and “5” satisfy the sex and age
requirements on their target cohort start dates, although one of the
cohort entries is excluded for patient “3” and “5” as they were below
the minimum age at their date of cohort entry.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateTargetDenominatorCohortSet</span>(</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator_acute_asthma_incident&quot;</span>,</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="at">ageGroup =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">15</span>)),</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  <span class="at">daysPriorObservation =</span> <span class="dv">0</span>,</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> <span class="st">&quot;target&quot;</span>,</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>  <span class="at">requirementsAtEntry =</span> <span class="cn">TRUE</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>)</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>cdm<span class="sc">$</span>denominator_acute_asthma_incident <span class="sc">%&gt;%</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> row)) <span class="sc">+</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>If we change <code>requirementsAtEntry</code> to FALSE individuals
can now contribute once they the various criteria. Now we can see that
we have included an extra period of time of risk for patient “3”. This
is because although they were younger than 11 at their cohort entry, we
now allow them to contribute time once they have reached the age of
11.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateTargetDenominatorCohortSet</span>(</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator_acute_asthma_prevalent&quot;</span>,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>  <span class="at">ageGroup =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">15</span>)),</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>  <span class="at">daysPriorObservation =</span> <span class="dv">0</span>,</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> <span class="st">&quot;target&quot;</span>,</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  <span class="at">requirementsAtEntry =</span> <span class="cn">FALSE</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>)</span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>cdm<span class="sc">$</span>denominator_acute_asthma_prevalent <span class="sc">%&gt;%</span></span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb9-14"><a href="#cb9-14" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb9-15"><a href="#cb9-15" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb9-16"><a href="#cb9-16" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb9-17"><a href="#cb9-17" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb9-18"><a href="#cb9-18" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> row)) <span class="sc">+</span></span>
<span id="cb9-19"><a href="#cb9-19" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb9-20"><a href="#cb9-20" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb9-21"><a href="#cb9-21" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-22"><a href="#cb9-22" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Similarly, let’s say we are considering multiple, non-overlapping,
age groups. Setting requirementsAtEntry to TRUE will mean that an
individual will only contribute a given target entry to one of these -
the one where they are that age on the day of target cohort entry.
However, setting requirementsAtEntry to FALSE would allow an individual
to graduate from one age group to another.</p>
<p>As with age, the same will apply when specifying time varying
elements such as date criteria and prior observation requirements. For
example, if we specify dates using <code>cohortDateRange</code> then if
requirementsAtEntry is TRUE an individual must enter the target cohort
during the date range,</p>
</div>
<div id="specifying-time-at-risk" class="section level2">
<h2>Specifying time at risk</h2>
<p>We can also enforce a time at risk for people to contribute to the
denominator. For instance, we might only want to take into account
events for people in the target denominator cohort on their first month
after cohort entry. This can be achieved by adding the input parameter
<code>timeAtRisk = c(0,30)</code> when computing the denominator, before
any incidence or prevalence calculations.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateTargetDenominatorCohortSet</span>(</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator_acute_asthma_2&quot;</span>,</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>  <span class="at">ageGroup =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">15</span>)),</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>  <span class="at">daysPriorObservation =</span> <span class="dv">0</span>,</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> <span class="st">&quot;target&quot;</span>,</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>  <span class="at">timeAtRisk =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>)</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>)</span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>cdm<span class="sc">$</span>denominator_acute_asthma_2 <span class="sc">%&gt;%</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> row)) <span class="sc">+</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Note that this parameter allows the user to input different time at
risk values in the same function call. Therefore, if we ask for
<code>timeAtRisk = list(c(0, 30), c(31, 60))</code>, we will get a
denominator cohort of people contributing time up to 30 days following
cohort entry, and another one with time from 31 days following cohort
entry to 60 days.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateTargetDenominatorCohortSet</span>(</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator_acute_asthma_3&quot;</span>,</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="at">ageGroup =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">15</span>)),</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="at">daysPriorObservation =</span> <span class="dv">0</span>,</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> <span class="st">&quot;target&quot;</span>,</span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>  <span class="at">timeAtRisk =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">30</span>), <span class="fu">c</span>(<span class="dv">31</span>, <span class="dv">60</span>))</span>
<span id="cb11-9"><a href="#cb11-9" tabindex="-1"></a>)</span>
<span id="cb11-10"><a href="#cb11-10" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" tabindex="-1"></a>cdm<span class="sc">$</span>denominator_acute_asthma_3 <span class="sc">%&gt;%</span></span>
<span id="cb11-12"><a href="#cb11-12" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-13"><a href="#cb11-13" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">left_join</span>(</span>
<span id="cb11-14"><a href="#cb11-14" tabindex="-1"></a>    <span class="fu">attr</span>(cdm<span class="sc">$</span>denominator_acute_asthma_3, <span class="st">&quot;cohort_set&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-15"><a href="#cb11-15" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">c</span>(</span>
<span id="cb11-16"><a href="#cb11-16" tabindex="-1"></a>        <span class="st">&quot;cohort_definition_id&quot;</span>,</span>
<span id="cb11-17"><a href="#cb11-17" tabindex="-1"></a>        <span class="st">&quot;time_at_risk&quot;</span></span>
<span id="cb11-18"><a href="#cb11-18" tabindex="-1"></a>      )),</span>
<span id="cb11-19"><a href="#cb11-19" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;cohort_definition_id&quot;</span>,</span>
<span id="cb11-20"><a href="#cb11-20" tabindex="-1"></a>    <span class="at">copy =</span> <span class="cn">TRUE</span></span>
<span id="cb11-21"><a href="#cb11-21" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb11-22"><a href="#cb11-22" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb11-23"><a href="#cb11-23" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb11-24"><a href="#cb11-24" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb11-25"><a href="#cb11-25" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb11-26"><a href="#cb11-26" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb11-27"><a href="#cb11-27" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> row, <span class="at">colour =</span> time_at_risk)) <span class="sc">+</span></span>
<span id="cb11-28"><a href="#cb11-28" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb11-29"><a href="#cb11-29" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb11-30"><a href="#cb11-30" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb11-31"><a href="#cb11-31" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Additionally, observe that this parameter allows us to control the
follow-up of these individuals after cohort entry for the denominator
cohort, but this is inherently linked to their cohort exit and the end
of their observation period. Hence, if we define the target cohort so
that individuals are only followed for one month, and we now require
<code>timeAtRisk = c(0,90)</code>, we will get the same denominator
cohort as in the previous example.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>cdm<span class="sc">$</span>target_2 <span class="ot">&lt;-</span> cdm<span class="sc">$</span>target <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">dif =</span> cohort_end_date <span class="sc">-</span> cohort_start_date) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">cohort_end_date =</span> dplyr<span class="sc">::</span><span class="fu">if_else</span>(</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>    dif <span class="sc">&gt;</span> <span class="dv">30</span>,</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>    clock<span class="sc">::</span><span class="fu">add_days</span>(cohort_start_date, <span class="dv">30</span>),</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>    cohort_end_date</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  )) <span class="sc">|&gt;</span></span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="st">&quot;dif&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">compute</span>(<span class="at">temporary =</span> <span class="cn">FALSE</span>, <span class="at">name =</span> <span class="st">&quot;target_2&quot;</span>)</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>cdm <span class="ot">&lt;-</span> <span class="fu">generateTargetDenominatorCohortSet</span>(</span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>  <span class="at">cdm =</span> cdm,</span>
<span id="cb12-13"><a href="#cb12-13" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;denominator_acute_asthma_4&quot;</span>,</span>
<span id="cb12-14"><a href="#cb12-14" tabindex="-1"></a>  <span class="at">ageGroup =</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">15</span>)),</span>
<span id="cb12-15"><a href="#cb12-15" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">&quot;Female&quot;</span>,</span>
<span id="cb12-16"><a href="#cb12-16" tabindex="-1"></a>  <span class="at">daysPriorObservation =</span> <span class="dv">0</span>,</span>
<span id="cb12-17"><a href="#cb12-17" tabindex="-1"></a>  <span class="at">targetCohortTable =</span> <span class="st">&quot;target_2&quot;</span>,</span>
<span id="cb12-18"><a href="#cb12-18" tabindex="-1"></a>  <span class="at">timeAtRisk =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">90</span>)</span>
<span id="cb12-19"><a href="#cb12-19" tabindex="-1"></a>)</span>
<span id="cb12-20"><a href="#cb12-20" tabindex="-1"></a></span>
<span id="cb12-21"><a href="#cb12-21" tabindex="-1"></a>cdm<span class="sc">$</span>denominator_acute_asthma_4 <span class="sc">%&gt;%</span></span>
<span id="cb12-22"><a href="#cb12-22" tabindex="-1"></a>  <span class="fu">collect</span>() <span class="sc">%&gt;%</span></span>
<span id="cb12-23"><a href="#cb12-23" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb12-24"><a href="#cb12-24" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(</span>
<span id="cb12-25"><a href="#cb12-25" tabindex="-1"></a>    <span class="st">&quot;cohort_start_date&quot;</span>,</span>
<span id="cb12-26"><a href="#cb12-26" tabindex="-1"></a>    <span class="st">&quot;cohort_end_date&quot;</span></span>
<span id="cb12-27"><a href="#cb12-27" tabindex="-1"></a>  )) <span class="sc">%&gt;%</span></span>
<span id="cb12-28"><a href="#cb12-28" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">group =</span> row)) <span class="sc">+</span></span>
<span id="cb12-29"><a href="#cb12-29" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb12-30"><a href="#cb12-30" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> value, <span class="at">y =</span> subject_id)) <span class="sc">+</span></span>
<span id="cb12-31"><a href="#cb12-31" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb12-32"><a href="#cb12-32" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Year&quot;</span>)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Note that time at risk will always be related to target cohort entry.
If we set <code>requirementsAtEntry</code> to FALSE and an individual
contributes time from 31 days after their target entry date, they
wouldn’t contribute any time if timeAtRisk was set to c(0, 30).</p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
